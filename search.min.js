"use strict";let CASE_SENSITIVE=!0,ERROR_MSG="There are no coincidences!",HIDE_UNMATCHED_ROWS=!0,BACKGROUND_COLOR="mark",TEXT_COLOR="";function getTableElement(e){return document.querySelector(`table[id="${e}"]`)}function getErrorElement(e){return document.querySelector(`span[id="${e}"]`)}async function setSettings(){try{const e=await fetch("search.json"),t=await e.json();CASE_SENSITIVE=t.caseSensitive,ERROR_MSG=t.errorMessage,HIDE_UNMATCHED_ROWS=t.hideUnmatchedRows,BACKGROUND_COLOR=t.styles.backgroundColor,TEXT_COLOR=t.styles.color}catch(e){console.warn("The configuration file has not been defined...")}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("input[searchInput]").forEach(e=>{e.addEventListener("input",e=>{const{value:t}=e.target,n=e.target.getAttribute("tableElementId"),r=e.target.getAttribute("errorElementId");let o=null,s=null;if(n&&(o=getTableElement(n)),r&&(s=getErrorElement(r)),o&&s){const e=Array.from(o.tBodies[0].children);if(t){const n=[],r=[],o=[];e.forEach(e=>{HIDE_UNMATCHED_ROWS&&(e.style.display="");for(const s of e.children)(CASE_SENSITIVE?s.innerText.includes(t):s.innerText.toLowerCase().includes(t.toLowerCase()))?n.push(s):r.push(s),HIDE_UNMATCHED_ROWS&&((CASE_SENSITIVE?e.innerText.includes(t):e.innerText.toLowerCase().includes(t.toLowerCase()))||o.push(e))}),n.forEach(e=>{const t=e.innerText;e.innerHTML=`<mark style="background-color: ${BACKGROUND_COLOR}; color: ${TEXT_COLOR}">${t}</mark>`}),r.forEach(e=>{const t=e.innerText;e.innerHTML=`${t}`}),o.forEach(e=>{e.style.display="none"}),n.length>0?s.innerText="":(s.innerText=`${ERROR_MSG}`,e.forEach(e=>{e.style.display=""}))}else e.forEach(e=>{for(const t of e.children){const e=t.innerText;t.innerHTML=`${e}`}e.style.display=""}),s.innerText=""}})})}),setSettings();